<!DOCTYPE html>
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet", href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css")
    //- link(rel="stylesheet", href="./styles/custom.css")
    title Nodejs - Express Demo
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      a.navbar-brand(href='#') DEMO
      button.navbar-toggler(type='button',
                            data-toggle='collapse',
                            data-target='#navbarNav',
                            aria-controls='navbarNav',
                            aria-expanded='false',
                            aria-label='Toggle navigation')
        span.navbar-toggler-icon
      #navbarNav.collapse.navbar-collapse
        ul.navbar-nav
          li.nav-item
            a.nav-link(href='/') Home
          li.nav-item
            a.nav-link(href='/users') Users
          li.nav-item
            a.nav-link(href='/products') Products
    
      p.m-auto.pr-5.text-light Cart
        span#cart

      if user
        p.m-auto.text-light= user.name

    .container.mt-5
      block content

    //- script to show cart
    script.
      let cookies = document.cookie.split(';').sort();
      if(cookies[0].indexOf('countCart=') !== -1) {
        let countCart = cookies[0].trim().split('=');
        document.getElementById('cart').innerHTML = '(' + countCart[1] + ')';
      }